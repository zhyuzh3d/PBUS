# PBUS 

什么样的APP架构才是好架构？这个项目只是软件设计的思考，并不包含实质性的代码文件。 

以下内容如果您发觉有不妥之处，欢迎提交您的issue；如果您有不同见解，也欢迎您发起request表达您的理念。 

##什么是PUBS？

PBUS是我个人基于WebApp开发理念，对用户端APP结构提出的一个新的思考，我们把任意APP界面拆分成4个层级，分别是：

####P-Page 页面

任何APP都由多个页面Pages组成，**Page主要用于实现布局Layout和提供路由Router框架**。  

这里的Layout是指将屏幕划分为不同的容器；为避免结构复杂化，应尽可能避免容器内嵌套子层Layout。

这里的Router框架是指一种能够对Layout每个部分进行变化的机制。 

**原则上Page并不实现任何具体的功能**。 

Page的Layout应该由产品经理或设计师来绘制，同时工程师应该为整个APP建立统一的Router框架以便于后续代码中调用。 

####B-Block 区块 

区块Block是用来组成Page的基本内容，放置于Layout划分的各个容器内。不同页面内，区块可以复用。

**Block是具体功能的集中实现**

比如一个成员卡片列表Block，包含了头部信息（如“本班共有45名成员，当前1/5页”）、分页按钮行（上一页，1，2，3，4，5，下一页）和全部成员卡片的列表，每个卡片可能包含头像、姓名以及一个【踢出】按钮让管理员可以把他踢出班级。 

对于这样的一个Block应该实现从服务端读取数据（每个成员的信息）并对数据进行处理（如统计成员总数并分页显示），然后生成界面并填充； 

更重要的是，这个成员列表Block还要检测当前用户是否是班级管理员，并将此信息传递到成员卡片中以便于卡片来决定是否显示【踢出】按钮；同时如果需要的话，那么Block还应实现一个踢出成员的remove方法，并把这个方法传递到每个成员卡片中，让卡片中【踢出】按钮被点击时候可以调用。关于成员卡片更多内容请往下看。

**Block是程序业务逻辑代码的集中地，是程序员工程师的主要战场**。

####U-Unit 单元

**单元Unit主要用于UI设定和UE交互控制**，是复用率最高的界面组件，也是Block的主要组成部分，比如上面提到的成员卡片。

**原则上Unit并不实现任何具体业务功能，因为Unit应该保持最良好的通用性**。

比如上面提到的成员卡片，由于它既可能用于班级成员列表，也可能用于俱乐部社团成员列表或者我的好友列表等情况，所以卡片自身并不能实现具体的remove功能，但是卡片应该提供一个外部remove方法的入口，可以让Block方便的把外部的方法输入到这里。同样，卡片也要实现一个开关入口（boolean变量），以便于外部通过修改这个开关而控制【踢出】按钮是否显示。

**Unit应该是UI设计师和UX设计师的主战场，它们在这里定义通用的界面样式和交互可能**。

设计师只要做好统一的布局规范（各种间距、文字风格、配色等等），并根据设计规范完成全部Unit的制作，那么产品经理和工程师就可以很好的自由组合Pages和Blocks实现最终产品。（PS，我认为UI设计师应该具有这种能力，把他的设计理念真的实现出来，而不是仅仅PS几个静态图片）

####S-Symbol 元件

元件Symbol是最小的界面元素，是Unit的组成部分或者本身就是一个简单的Unit。 

应该优先考虑现有的界面框架包，比如Web开发中知名的bootstrap这样的产品，对于原生APP开发，Android和iOS都提供了更加优秀的界面元素可以直接使用。  

仅在必要的情况下，比如设计人员认为现有界面包不能满足设计需要的时候，工程师才需要开发新的Symbol，因为开发一个自定义的Symbol往往并不容易，而且由于Symbol处于最基层，稳定性是非常重要的。

##示意图




